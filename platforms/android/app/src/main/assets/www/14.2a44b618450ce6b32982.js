(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Rcmz:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=t("mrSG"),o=t("6xU6"),i=t("ZZ/e"),r=t("nk7c"),c=t("vglk"),a=t("kyzu"),s=function(){function n(n,l,t,u,e,o,i){this.route=n,this.navCtrl=l,this.storage=t,this.pJService=u,this.modalController=e,this.alertService=o,this.loadingService=i,this.pjsList=[]}return n.prototype.ngOnInit=function(){return e.b(this,void 0,void 0,function(){return e.e(this,function(n){switch(n.label){case 0:return[4,this.loadPjs()];case 1:return n.sent(),[2]}})})},n.prototype.loadPjs=function(){return e.b(this,void 0,void 0,function(){var n=this;return e.e(this,function(l){return this.loading=this.loadingService.showLoading(),this.route.queryParams.subscribe(function(l){n.storage.get("userUID").then(function(t){n.getPjs(l.id,t).then(function(l){n.pjsList=l,n.loading=n.loadingService.hideLoading()})})}),[2]})})},n.prototype.openEdit=function(n){return e.b(this,void 0,void 0,function(){var l,t=this;return e.e(this,function(u){switch(u.label){case 0:return[4,this.modalController.create({component:o.a,componentProps:{pj:n}})];case 1:return(l=u.sent()).onDidDismiss().then(function(n){n.data&&t.loadPjs()}),[4,l.present()];case 2:return u.sent(),[2]}})})},n.prototype.getPjs=function(n,l){return e.b(this,void 0,void 0,function(){return e.e(this,function(t){switch(t.label){case 0:return[4,this.pJService.getPJsByStory(n,l)];case 1:return[2,t.sent()]}})})},n.prototype.delete=function(n){return e.b(this,void 0,void 0,function(){var l=this;return e.e(this,function(t){switch(t.label){case 0:return[4,this.alertService.showAlert("Are you sure?","Do you want to delete <strong>"+n.character.name+"</strong>?, This process cannot be undone").then(function(t){t&&l.deleteFun(n.id).then(function(){l.loadPjs()})})];case 1:return t.sent(),[2]}})})},n.prototype.deleteFun=function(n){return e.b(this,void 0,void 0,function(){var l,t;return e.e(this,function(u){switch(u.label){case 0:return[4,this.storage.get("userUID")];case 1:return l=u.sent(),[4,this.storage.get("storyID")];case 2:return t=u.sent(),[4,this.pJService.deletePJ(t,l,n)];case 3:return u.sent(),[2]}})})},n}(),b=function(){return function(){}}(),h=t("pMnS"),p=t("oBZk"),d=t("Ip0R"),f=t("ZYCi"),v=t("iw74"),m=u.nb({encapsulation:0,styles:[[""]],data:{}});function k(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,15,"div",[["class",""]],null,null,null,null,null)),(n()(),u.pb(1,0,null,null,14,"ion-item",[],null,null,null,p.I,p.n)),u.ob(2,49152,null,0,i.H,[u.h,u.k],null,null),(n()(),u.pb(3,0,null,0,2,"ion-label",[],null,null,null,p.J,p.o)),u.ob(4,49152,null,0,i.N,[u.h,u.k],null,null),(n()(),u.Gb(5,0,[" "," "])),(n()(),u.pb(6,0,null,0,2,"ion-label",[],null,null,null,p.J,p.o)),u.ob(7,49152,null,0,i.N,[u.h,u.k],null,null),(n()(),u.Gb(8,0,[" Lvl: "," "])),(n()(),u.pb(9,0,null,0,2,"ion-label",[],null,null,null,p.J,p.o)),u.ob(10,49152,null,0,i.N,[u.h,u.k],null,null),(n()(),u.Gb(11,0,[" HP: "," "])),(n()(),u.pb(12,0,null,0,1,"ion-icon",[["name","create"],["slot","end"],["style","color: green"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;return"click"===l&&(u=!1!==e.openEdit(n.context.$implicit,e.edit)&&u),u},p.G,p.l)),u.ob(13,49152,null,0,i.C,[u.h,u.k],{name:[0,"name"]},null),(n()(),u.pb(14,0,null,0,1,"ion-icon",[["name","trash"],["slot","end"],["style","color: red"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.delete(n.context.$implicit)&&u),u},p.G,p.l)),u.ob(15,49152,null,0,i.C,[u.h,u.k],{name:[0,"name"]},null)],function(n,l){n(l,13,0,"create"),n(l,15,0,"trash")},function(n,l){n(l,5,0,l.context.$implicit.character.name),n(l,8,0,l.context.$implicit.character.level),n(l,11,0,l.context.$implicit.character.maxHp)})}function g(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,11,"ion-header",[],null,null,null,p.F,p.k)),u.ob(1,49152,null,0,i.B,[u.h,u.k],null,null),(n()(),u.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,p.P,p.u)),u.ob(3,49152,null,0,i.Bb,[u.h,u.k],null,null),(n()(),u.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.y,p.d)),u.ob(5,49152,null,0,i.l,[u.h,u.k],null,null),(n()(),u.pb(6,0,null,0,2,"ion-back-button",[["defaultHref","/story"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==u.zb(n,8).onClick(t)&&e),e},p.w,p.b)),u.ob(7,49152,null,0,i.g,[u.h,u.k],{defaultHref:[0,"defaultHref"]},null),u.ob(8,16384,null,0,i.h,[[2,i.hb],i.Hb],{defaultHref:[0,"defaultHref"]},null),(n()(),u.pb(9,0,null,0,2,"ion-title",[],null,null,null,p.O,p.t)),u.ob(10,49152,null,0,i.zb,[u.h,u.k],null,null),(n()(),u.Gb(-1,0,["Character"])),(n()(),u.pb(12,0,null,null,9,"ion-content",[],null,null,null,p.B,p.g)),u.ob(13,49152,null,0,i.u,[u.h,u.k],null,null),(n()(),u.gb(16777216,null,0,1,null,k)),u.ob(15,278528,null,0,d.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.pb(16,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,p.D,p.h)),u.ob(17,49152,null,0,i.w,[u.h,u.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),u.pb(18,0,null,0,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.openEdit(!1)&&u),u},p.C,p.i)),u.ob(19,49152,null,0,i.x,[u.h,u.k],null,null),(n()(),u.pb(20,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,p.G,p.l)),u.ob(21,49152,null,0,i.C,[u.h,u.k],{name:[0,"name"]},null)],function(n,l){var t=l.component;n(l,7,0,"/story"),n(l,8,0,"/story"),n(l,15,0,t.pjsList),n(l,17,0,"end","bottom"),n(l,21,0,"add")},null)}function x(n){return u.Ib(0,[(n()(),u.pb(0,0,null,null,1,"app-character",[],null,null,null,g,m)),u.ob(1,114688,null,0,s,[f.a,i.Hb,v.b,r.a,i.Gb,a.a,c.a],null,null)],function(n,l){n(l,1,0)},null)}var y=u.lb("app-character",s,x,{},{},[]),w=t("gIcY");t.d(l,"CharacterPageModuleNgFactory",function(){return j});var j=u.mb(b,[],function(n){return u.wb([u.xb(512,u.j,u.bb,[[8,[h.a,y]],[3,u.j],u.x]),u.xb(4608,d.l,d.k,[u.u,[2,d.r]]),u.xb(4608,w.g,w.g,[]),u.xb(4608,i.b,i.b,[u.z,u.g]),u.xb(4608,i.Gb,i.Gb,[i.b,u.j,u.q,d.c]),u.xb(4608,i.Lb,i.Lb,[i.b,u.j,u.q,d.c]),u.xb(1073742336,d.b,d.b,[]),u.xb(1073742336,w.f,w.f,[]),u.xb(1073742336,w.a,w.a,[]),u.xb(1073742336,i.Db,i.Db,[]),u.xb(1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),u.xb(1073742336,b,b,[]),u.xb(1024,f.k,function(){return[[{path:"",component:s}]]},[])])})}}]);