(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{TbC0:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=function(){return function(){}}(),i=t("pMnS"),u=t("oBZk"),r=t("ZZ/e"),a=t("gIcY"),s=t("Ip0R"),c=t("mrSG"),b=t("fvl4"),h=function(){function n(n){this.afStore=n}return n.prototype.getUserByEmail=function(n){var l=this.afStore.collection("users",function(l){return l.where("email","==",n)});return new Promise(function(n){l.get().subscribe(function(l){l.forEach(function(l){n({id:l.id,user:l.data()})})})})},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(b.a))},token:n,providedIn:"root"}),n}(),d=t("9ans"),p=t("cL1P"),f=t("vglk"),g=t("9ZKQ"),v=t("6WN9"),m=t("kyzu"),y=function(){function n(n,l,t,e,o,i,u,r,a,s){var c=this;this.storage=n,this.route=l,this.userService=t,this.authService=e,this.storyService=o,this.loadingService=i,this.navCtrl=u,this.toastService=r,this.modalController=a,this.alertService=s,this.slideOpts={initialSlide:0,speed:400,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},this.route.queryParams.subscribe(function(n){c.email=n.email})}return n.prototype.ngOnInit=function(){return c.b(this,void 0,void 0,function(){var n=this;return c.e(this,function(l){switch(l.label){case 0:return this.loading=this.loadingService.showLoading(),[4,this.userService.getUserByEmail(this.email).then(function(l){return c.b(n,void 0,void 0,function(){var n;return c.e(this,function(t){switch(t.label){case 0:return this.storage.set("userUID",l.id),n=this,[4,this.storyService.getAllStoriesByUserID(l.id)];case 1:return n.storiesList=t.sent(),this.storiesList.length&&(this.checkLength=!0),this.loading=this.loadingService.hideLoading(),[2]}})})}).catch(function(l){n.loading=n.loadingService.hideLoading(),n.toastService.presentToast(l)})];case 1:return l.sent(),[2]}})})},n.prototype.goToStory=function(n){return c.b(this,void 0,void 0,function(){return c.e(this,function(l){return this.navCtrl.navigateForward(["story"],{queryParams:{id:n.id,name:n.story.name}}),[2]})})},n.prototype.openModel=function(n){return c.b(this,void 0,void 0,function(){var l,t=this;return c.e(this,function(e){switch(e.label){case 0:return[4,this.modalController.create({component:v.a,componentProps:{story:n}})];case 1:return(l=e.sent()).onDidDismiss().then(function(n){return c.b(t,void 0,void 0,function(){var l,t;return c.e(this,function(e){switch(e.label){case 0:return n.data?(this.loading=this.loadingService.showLoading(),[4,this.storage.get("userUID")]):[3,3];case 1:return l=e.sent(),t=this,[4,this.storyService.getAllStoriesByUserID(l)];case 2:t.storiesList=e.sent(),this.loading=this.loadingService.hideLoading(),e.label=3;case 3:return[2]}})})}),[4,l.present()];case 2:return e.sent(),[2]}})})},n.prototype.logOut=function(){return c.b(this,void 0,void 0,function(){var n=this;return c.e(this,function(l){switch(l.label){case 0:return[4,this.alertService.showAlert("Logout?","Do you want to logout?").then(function(l){l&&n.authService.logout()})];case 1:return l.sent(),[2]}})})},n}(),k=t("iw74"),w=t("ZYCi"),S=e.nb({encapsulation:0,styles:[["ion-slides[_ngcontent-%COMP%]{height:100%!important;width:100%!important}ion-textarea[_ngcontent-%COMP%]{--padding-bottom:15px;--placeholder-opacity:1}"]],data:{}});function x(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,8,"ion-slide",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goToStory(n.context.$implicit)&&e),e},u.L,u.q)),e.ob(1,49152,null,0,r.pb,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,6,"div",[["style","height: 100%; width: 80%;"]],null,null,null,null,null)),(n()(),e.pb(3,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Gb(4,null,[" "," "])),(n()(),e.pb(5,0,null,null,3,"ion-textarea",[["autoGrow","true"],["readonly",""],["style","height: 100% !important"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var o=!0;return"ionBlur"===l&&(o=!1!==e.zb(n,8)._handleBlurEvent()&&o),"ionChange"===l&&(o=!1!==e.zb(n,8)._handleInputEvent(t.target.value)&&o),o},u.N,u.s)),e.Db(5120,null,a.b,function(n){return[n]},[r.Nb]),e.ob(7,49152,null,0,r.xb,[e.h,e.k],{placeholder:[0,"placeholder"],readonly:[1,"readonly"],autoGrow:[2,"autoGrow"]},null),e.ob(8,16384,null,0,r.Nb,[e.k],null,null)],function(n,l){n(l,7,0,e.rb(1,"",l.context.$implicit.story.description,""),"","true")},function(n,l){n(l,4,0,l.context.$implicit.story.name)})}function L(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-slides",[],null,null,null,u.M,u.r)),e.ob(1,49152,null,0,r.qb,[e.h,e.k],{options:[0,"options"],pager:[1,"pager"]},null),(n()(),e.gb(16777216,null,0,1,null,x)),e.ob(3,278528,null,0,s.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,1,0,t.slideOpts,t.checkLength),n(l,3,0,t.storiesList)},null)}function I(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,12,"ion-header",[],null,null,null,u.F,u.k)),e.ob(1,49152,null,0,r.B,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,10,"ion-toolbar",[],null,null,null,u.P,u.u)),e.ob(3,49152,null,0,r.Bb,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,5,"ion-buttons",[["slot","primary"]],null,null,null,u.y,u.d)),e.ob(5,49152,null,0,r.l,[e.h,e.k],null,null),(n()(),e.pb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.logOut()&&e),e},u.x,u.c)),e.ob(7,49152,null,0,r.k,[e.h,e.k],null,null),(n()(),e.pb(8,0,null,0,1,"ion-icon",[["name","log-out"]],null,null,null,u.G,u.l)),e.ob(9,49152,null,0,r.C,[e.h,e.k],{name:[0,"name"]},null),(n()(),e.pb(10,0,null,0,2,"ion-title",[],null,null,null,u.O,u.t)),e.ob(11,49152,null,0,r.zb,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,["Stories"])),(n()(),e.pb(13,0,null,null,9,"ion-content",[],null,null,null,u.B,u.g)),e.ob(14,49152,null,0,r.u,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,L)),e.ob(16,16384,null,0,s.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(17,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openModel(!1)&&e),e},u.D,u.h)),e.ob(18,49152,null,0,r.w,[e.h,e.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.pb(19,0,null,0,3,"ion-fab-button",[],null,null,null,u.C,u.i)),e.ob(20,49152,null,0,r.x,[e.h,e.k],null,null),(n()(),e.pb(21,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,u.G,u.l)),e.ob(22,49152,null,0,r.C,[e.h,e.k],{name:[0,"name"]},null)],function(n,l){var t=l.component;n(l,9,0,"log-out"),n(l,16,0,t.checkLength),n(l,18,0,"end","bottom"),n(l,22,0,"add")},null)}function C(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-home",[],null,null,null,I,S)),e.ob(1,114688,null,0,y,[k.b,w.a,h,d.a,p.a,f.a,r.Hb,g.a,r.Gb,m.a],null,null)],function(n,l){n(l,1,0)},null)}var D=e.lb("app-home",y,C,{},{},[]);t.d(l,"HomePageModuleNgFactory",function(){return G});var G=e.mb(o,[],function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[i.a,D]],[3,e.j],e.x]),e.xb(4608,s.l,s.k,[e.u,[2,s.r]]),e.xb(4608,a.g,a.g,[]),e.xb(4608,r.b,r.b,[e.z,e.g]),e.xb(4608,r.Gb,r.Gb,[r.b,e.j,e.q,s.c]),e.xb(4608,r.Lb,r.Lb,[r.b,e.j,e.q,s.c]),e.xb(1073742336,s.b,s.b,[]),e.xb(1073742336,a.f,a.f,[]),e.xb(1073742336,a.a,a.a,[]),e.xb(1073742336,r.Db,r.Db,[]),e.xb(1073742336,w.o,w.o,[[2,w.u],[2,w.m]]),e.xb(1073742336,o,o,[]),e.xb(1024,w.k,function(){return[[{path:"",component:y}]]},[])])})}}]);